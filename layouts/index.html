{{ define "main" }}

{{- /* ================================= */ -}}
{{- /* Home Page Sections */ -}}
{{- /* ================================= */ -}}

{{- /* Hero Section */ -}}
{{ if .Site.Data.settings.hero.enabled }}
    {{ partial "sections/hero.html" . }}
{{ end }}

{{- /* About Section */ -}}
<section id="about" class="section about-section">
    <div class="container">
        <div class="about-content">
            <div class="about-image animate-on-scroll">
                {{ with .Site.Params.doctor.image }}
                    {{ $img := resources.Get . }}
                    {{ if $img }}
                        {{ $resized := $img.Resize "600x600 smart" }}
                        <img src="{{ $resized.RelPermalink }}" 
                             alt="{{ $.Site.Params.doctor.name }}"
                             width="600" 
                             height="600"
                             loading="lazy">
                    {{ else }}
                        <img src="{{ . }}" 
                             alt="{{ $.Site.Params.doctor.name }}"
                             loading="lazy">
                    {{ end }}
                {{ end }}
            </div>
            
            <div class="about-text animate-on-scroll">
                <h2 class="section-title">Ø¹Ù† Ø§Ù„Ø·Ø¨ÙŠØ¨</h2>
                <h3 class="section-subtitle">{{ .Site.Params.doctor.name }}</h3>
                <p class="section-description">
                    {{ .Site.Params.doctor.bio | default .Site.Params.description }}
                </p>
                
                <div class="about-highlights">
                    <div class="highlight-item">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                        </svg>
                        <div>
                            <h4>{{ .Site.Params.doctor.specialty }}</h4>
                            <p>Ø§Ù„ØªØ®ØµØµ</p>
                        </div>
                    </div>
                    
                    <div class="highlight-item">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <div>
                            <h4>{{ .Site.Params.doctor.experience }}</h4>
                            <p>Ø§Ù„Ø®Ø¨Ø±Ø©</p>
                        </div>
                    </div>
                </div>
                
                <div class="about-actions">
                    {{ with .Site.Data.settings.hero }}
                        <a href="{{ .ctaLink }}" class="btn btn-primary btn-lg">
                            {{ .ctaText | default "Ø§Ø­Ø¬Ø² Ø§Ø³ØªØ´Ø§Ø±Ø© Ù…Ø¬Ø§Ù†ÙŠØ©" }}
                        </a>
                        <a href="{{ .secondaryCtaLink }}" class="btn btn-outline btn-lg">
                            {{ .secondaryCtaText | default "Ø´Ø§Ù‡Ø¯ Ø£Ø¹Ù…Ø§Ù„Ù†Ø§" }}
                        </a>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>

{{- /* Skills Section */ -}}
{{ if .Site.Data.settings.skills.enabled }}
    {{ partial "sections/skills.html" . }}
{{ end }}

{{- /* Gallery Section */ -}}
{{ if .Site.Data.settings.gallery.enabled }}
    {{ partial "sections/gallery.html" . }}
{{ end }}

{{- /* Contact Section */ -}}
<section id="contact" class="section contact-section">
    <div class="container">
        <div class="section-header animate-on-scroll">
            <h2 class="section-title">{{ .Site.Data.settings.contact.title | default "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§" }}</h2>
            <p class="section-subtitle">{{ .Site.Data.settings.contact.subtitle | default "Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ" }}</p>
        </div>
        
        <div class="contact-grid">
            <div class="contact-info animate-on-scroll">
                {{ range $key, $value := .Site.Data.settings.contact.info }}
                    <div class="info-item">
                        <div class="info-icon">
                            {{ partial "icons/contact.html" (dict "icon" $value.icon) }}
                        </div>
                        <div class="info-content">
                            <div class="info-label">{{ $value.label }}</div>
                            <div class="info-value">
                                {{ if eq $key "phone" }}
                                    <a href="tel:{{ $value.value }}">{{ $value.value }}</a>
                                {{ else if eq $key "email" }}
                                    <a href="mailto:{{ $value.value }}">{{ $value.value }}</a>
                                {{ else }}
                                    {{ $value.value }}
                                {{ end }}
                            </div>
                        </div>
                    </div>
                {{ end }}
            </div>
            
            <div class="contact-map animate-on-scroll">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Ù…ÙˆÙ‚Ø¹Ù†Ø§</h3>
                        <p>{{ .Site.Params.doctor.address }}</p>
                        {{- /* ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø®Ø±ÙŠØ·Ø© Google Maps Ù‡Ù†Ø§ */ -}}
                        <div style="width: 100%; height: 300px; background-color: var(--bg-secondary); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: var(--color-text-muted);">
                            <p>ğŸ“ Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{{- /* Inline Script for Scroll Animations */ -}}
<script>
(function() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);
    
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
    });
})();
</script>

{{ end }}