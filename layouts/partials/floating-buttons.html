{{- /* ================================= */ -}}
{{- /* Floating Action Buttons */ -}}
{{- /* ================================= */ -}}

<div class="floating-buttons floating-{{ .Site.Data.settings.whatsapp.position | default "left" }}">
    {{- /* WhatsApp Button */ -}}
    {{ if .Site.Data.settings.whatsapp.enabled }}
        {{ with .Site.Data.settings.whatsapp }}
        <a href="https://wa.me/{{ .number }}?text={{ .message | urlquery }}" 
           class="floating-btn whatsapp-btn"
           target="_blank"
           rel="noopener noreferrer"
           aria-label="ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
            <span class="btn-tooltip">{{ .buttonText | default "Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†" }}</span>
        </a>
        {{ end }}
    {{ end }}
    
    {{- /* Download CV Button */ -}}
    {{ if .Site.Data.settings.downloadCV.enabled }}
        {{ with .Site.Data.settings.downloadCV }}
        <button class="floating-btn download-btn"
                id="download-cv-btn"
                aria-label="ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            <span class="btn-tooltip">{{ .buttonText | default "ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©" }}</span>
        </button>
        {{ end }}
    {{ end }}
</div>

{{- /* Hidden CV Template for PDF Generation */ -}}
{{ if .Site.Data.settings.downloadCV.enabled }}
<div id="cv-template" style="display: none;">
    <div style="font-family: 'Cairo', sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; direction: rtl;">
        {{- /* CV Header */ -}}
        <div style="text-align: center; border-bottom: 3px solid #0077BE; padding-bottom: 20px; margin-bottom: 30px;">
            <h1 style="color: #0077BE; margin-bottom: 10px;">{{ .Site.Data.settings.downloadCV.cv.fullName }}</h1>
            <h2 style="color: #666; font-size: 18px; margin-bottom: 20px;">{{ .Site.Data.settings.downloadCV.cv.title }}</h2>
            <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; font-size: 14px;">
                <span>ğŸ“ {{ .Site.Data.settings.downloadCV.cv.phone }}</span>
                <span>ğŸ“§ {{ .Site.Data.settings.downloadCV.cv.email }}</span>
                <span>ğŸ“ {{ .Site.Data.settings.downloadCV.cv.location }}</span>
            </div>
        </div>
        
        {{- /* Summary */ -}}
        <div style="margin-bottom: 25px;">
            <h3 style="color: #0077BE; border-bottom: 2px solid #E9ECEF; padding-bottom: 8px; margin-bottom: 15px;">Ù†Ø¨Ø°Ø© Ù…Ø®ØªØµØ±Ø©</h3>
            <p style="line-height: 1.8; color: #333;">{{ .Site.Data.settings.downloadCV.cv.summary }}</p>
        </div>
        
        {{- /* Education */ -}}
        <div style="margin-bottom: 25px;">
            <h3 style="color: #0077BE; border-bottom: 2px solid #E9ECEF; padding-bottom: 8px; margin-bottom: 15px;">Ø§Ù„ØªØ¹Ù„ÙŠÙ…</h3>
            {{ range .Site.Data.settings.downloadCV.cv.education }}
            <div style="margin-bottom: 15px;">
                <h4 style="color: #333; margin-bottom: 5px;">{{ .degree }}</h4>
                <p style="color: #666; margin-bottom: 3px;">{{ .institution }} - {{ .country }}</p>
                <p style="color: #999; font-size: 14px;">{{ .year }}</p>
            </div>
            {{ end }}
        </div>
        
        {{- /* Experience */ -}}
        <div style="margin-bottom: 25px;">
            <h3 style="color: #0077BE; border-bottom: 2px solid #E9ECEF; padding-bottom: 8px; margin-bottom: 15px;">Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h3>
            {{ range .Site.Data.settings.downloadCV.cv.experience }}
            <div style="margin-bottom: 20px;">
                <h4 style="color: #333; margin-bottom: 5px;">{{ .position }}</h4>
                <p style="color: #666; margin-bottom: 5px;">{{ .clinic }}</p>
                <p style="color: #999; font-size: 14px; margin-bottom: 8px;">{{ .period }}</p>
                <p style="line-height: 1.6; color: #555;">{{ .description }}</p>
            </div>
            {{ end }}
        </div>
        
        {{- /* Skills */ -}}
        <div style="margin-bottom: 25px;">
            <h3 style="color: #0077BE; border-bottom: 2px solid #E9ECEF; padding-bottom: 8px; margin-bottom: 15px;">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©</h3>
            <ul style="columns: 2; column-gap: 20px; list-style-position: inside;">
                {{ range .Site.Data.settings.downloadCV.cv.skills.technical }}
                <li style="margin-bottom: 8px; color: #555;">{{ . }}</li>
                {{ end }}
            </ul>
        </div>
        
        {{- /* Languages */ -}}
        <div style="margin-bottom: 25px;">
            <h3 style="color: #0077BE; border-bottom: 2px solid #E9ECEF; padding-bottom: 8px; margin-bottom: 15px;">Ø§Ù„Ù„ØºØ§Øª</h3>
            {{ range .Site.Data.settings.downloadCV.cv.skills.languages }}
            <div style="display: inline-block; margin-left: 25px; margin-bottom: 10px;">
                <strong style="color: #333;">{{ .name }}:</strong> <span style="color: #666;">{{ .level }}</span>
            </div>
            {{ end }}
        </div>
        
        {{- /* Certifications */ -}}
        <div style="margin-bottom: 25px;">
            <h3 style="color: #0077BE; border-bottom: 2px solid #E9ECEF; padding-bottom: 8px; margin-bottom: 15px;">Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª ÙˆØ§Ù„ØªØ±Ø§Ø®ÙŠØµ</h3>
            <ul style="list-style-position: inside;">
                {{ range .Site.Data.settings.downloadCV.cv.certifications }}
                <li style="margin-bottom: 8px; color: #555;">{{ . }}</li>
                {{ end }}
            </ul>
        </div>
        
        {{- /* Achievements */ -}}
        <div>
            <h3 style="color: #0077BE; border-bottom: 2px solid #E9ECEF; padding-bottom: 8px; margin-bottom: 15px;">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</h3>
            <ul style="list-style-position: inside;">
                {{ range .Site.Data.settings.downloadCV.cv.achievements }}
                <li style="margin-bottom: 8px; color: #555;">{{ . }}</li>
                {{ end }}
            </ul>
        </div>
    </div>
</div>
{{ end }}